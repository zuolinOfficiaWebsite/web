"use strict";function init(){if("function"==typeof Object.freeze){for(var e=0;e<questionData.length;e++)Object.freeze(questionData[e]);for(e=0;e<keysData.length;e++)Object.freeze(keysData[e]);Object.freeze(forbiddenData)}changeViews.showIndex(),document.getElementById("start").addEventListener("click",function(){changeViews.showQuestion()},!1),document.getElementById("options").addEventListener("click",function(e){e=e||window.event;var t=e.target||e.srcElement;1===t.nodeType&&"img"===t.nodeName.toLowerCase()&&changeQuestion(t.alt)},!1),document.getElementById("share").addEventListener("click",function(){document.getElementById("share_layer").style.display="block"},!1),document.getElementById("play_again").addEventListener("click",function(){changeViews.showIndex()},!1),document.getElementById("share_layer").addEventListener("click",function(){this.style.display="none"},!1),document.getElementById("music_icon").addEventListener("click",function(){playMusic()},!1)}function post(e,t,n){var o;o=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),o.open("POST",e,!0),o.onreadystatechange=function(){if(4==o.readyState&&200==o.status){var e=JSON.parse(o.responseText);n(e)}},o.send(t)}function changeQuestion(e){userAnswers[randomQuestionData[currentQuestionIndex].name]=e,currentQuestionIndex<randomQuestionData.length-1?(currentQuestionIndex++,quitQuestionAnimation(),setTimeout(function(){setQuestion(currentQuestionIndex)},200),setTimeout(function(){enterQuestionAnimation()},500)):changeViews.showResult()}function setQuestion(e){if(!(e>=randomQuestionData.length)){var t=randomQuestionData[e].name,n=document.getElementById("question");n.src="img/question/"+t+"/"+t+".png",n.alt=randomQuestionData[e].question;for(var o=document.getElementById("options").getElementsByTagName("img"),i=randomArray(randomQuestionData[e].options),s=0;s<o.length;s++)s<i.length?(o[s].style.display="inline-block",o[s].src="img/question/"+t+"/"+i[s]+".png",o[s].alt=i[s]):(o[s].style.display="none",o[s].src="",o[s].alt="")}}function enterQuestionAnimation(){var e=document.getElementById("question"),t=document.getElementById("options").getElementsByTagName("img");setTimeout(function(){e.className=""},100),setTimeout(function(){for(var e=0;e<t.length;e++)t[e].className=""},500)}function quitQuestionAnimation(){var e=document.getElementById("question"),t=document.getElementById("options").getElementsByTagName("img");e.className="question_title_init";for(var n=0;n<t.length;n++)n%2?t[n].className="question_keys_right":t[n].className="question_keys_left"}function randomArray(e,t){if(e instanceof Array&&e.length>1){var n,o,i=[],s=e.length,a=[];for(n=0;s>n;n++)a[n]=n;var r="number"==typeof t&&s>=t?t:s;for(n=0;r>n;n++)o=Math.floor(Math.random()*a.length),i.push(e[a[o]]),a.splice(o,1);return i}return e}function playMusic(){var e=document.getElementById("music"),t=document.getElementById("music_icon"),n=e.paused;n?(t.className="music_icon icon-spin",e.play()):(t.className="music_icon",e.pause())}var questionData=[{name:"Q1",question:"\u4f60\u559c\u6b22\u5403\u4ec0\u4e48\uff1f",options:["\u4eba\u53c2\u679c","\u592a\u4e0a\u8001\u541b\u7684\u4ed9\u4e39","\u5510\u50e7\u8089","\u738b\u6bcd\u7684\u87e0\u6843"]},{name:"Q2",question:"\u4f5c\u4e3a\u4e00\u53ea\u5996\u5b7d\uff0c\u4f60\u6700\u6015\u9047\u89c1\u7684\u795e\u4ed9\uff1f",options:["\u4e8c\u90ce\u795e","\u89c2\u97f3","\u5982\u6765","\u6258\u5854\u5929\u738b\u674e\u9756"]},{name:"Q3",question:"\u4f60\u6700\u53d7\u4e0d\u4e86\u8c01\uff1f",options:["\u597d\u8272\u61d2\u505a\u7684\u516b\u6212","\u6ca1\u6709\u4e3b\u89c1\u7684\u6c99\u50e7","\u4efb\u6027\u5ff5\u7ecf\u7684\u5510\u50e7"]},{name:"Q4",question:"\u4f60\u66f4\u559c\u6b22\u54ea\u9996\u6b4c\uff1f",options:["onlyu","\u901a\u5929\u5927\u9053\u5bbd\u53c8\u9614","\u4e00\u4e2a\u5e08\u5085\u4e09\u5f92\u5f1f"]},{name:"Q5",question:"\u4f60\u8ba4\u4e3a\u6700\u7f8e\u5996\u7cbe\uff1f",options:["\u767d\u9aa8\u7cbe","\u7389\u5154\u7cbe","\u8718\u86db\u7cbe"]},{name:"Q6",question:"\u4f60\u66f4\u60f3\u613f\u610f\u8c01\u505a\u7334\u5b50\u4fa3\u76c6\u53cb\uff1f",options:["\u767d\u6676\u6676","\u7d2b\u971e\u4ed9\u5b50"]},{name:"Q7",question:"\u4f60\u8ba4\u4e3a\u7334\u5b50\u6015\u4ec0\u4e48\uff1f",options:["\u7d27\u7b8d\u5492","\u5973\u4eba","\u4e94\u6307\u5c71"]},{name:"Q8",question:"\u4f60\u8ba4\u4e3a\u88ab\u5b59\u609f\u7a7a\u6b3a\u8d1f\u6700\u5389\u5bb3\u7684\u662f\uff1f",options:["\u6cb3\u4f2f","\u5c71\u795e","\u571f\u5730"]},{name:"Q9",question:"\u4f60\u8ba4\u4e3a\u6700\u7f8e\u795e\u4ed9\u662f\uff1f",options:["\u5ae6\u5a25","\u89c2\u97f3","\u4e03\u4ed9\u5973"]},{name:"Q10",question:"\u4f60\u8ba4\u4e3a\u6700\u5389\u5bb3\u7684\u6b66\u5668\u662f\uff1f",options:["\u94c1\u6247\u516c\u4e3b\u7684\u82ad\u8549\u6247","\u6258\u5854\u5929\u738b\u7684\u73b2\u73d1\u5b9d\u5854","\u609f\u7a7a\u7684\u91d1\u7b8d\u68d2","\u89c2\u97f3\u7684\u7389\u51c0\u74f6"]}],keysData=[{keys:"\u4e8c\u5e08\u5144",loving_words:"\u7334\u54e5\uff1a\u7231\u8fc7\uff0c\u4e5f\u70e6\u8fc7\uff0c\u8fd8\u662f\u4e00\u8f88\u5b50\u597d\u57fa\u53cb\u3002",title:"\u539f\u6765\u6211\u662f\u4e8c\u5e08\u5144\uff0c\u88ab\u7334\u54e5\u7231\u8fc7\u4e00\u8f88\u5b50\u3002"},{keys:"\u6c99\u50e7",loving_words:"\u7334\u54e5\uff1a\u7231\u8fc7\uff0c\u4e00\u8f88\u5b50\uff0c\u597d\u57fa\u53cb\u4e00\u8f88\u5b50\u3002",title:"\u539f\u6765\u6211\u662f\u6c99\u50e7\uff0c\u88ab\u7334\u54e5\u7231\u8fc7\u4e00\u8f88\u5b50\u3002"},{keys:"\u725b\u9b54\u738b",loving_words:"\u7334\u54e5\uff1a\u7231\u8fc7\uff0c10\u5929\uff0c500\u5e74\u524d\u4e5f\u662f\u7a7f\u4e00\u6761\u88e4\u5b50\u7684\u597d\u5144\u5f1f\u3002",title:"\u539f\u6765\u6211\u662f\u725b\u9b54\u738b\uff0c\u88ab\u7334\u54e5\u7231\u8fc710\u5929\u3002"},{keys:"\u8718\u86db\u7cbe",loving_words:"\u7334\u54e5\uff1a\u4e0d\u80fd\u7231\uff0c\u8fd9\u53ea\u662f\u516b\u6212\u7684\u2026\u2026",title:"\u539f\u6765\u6211\u662f\u8718\u86db\u7cbe\uff0c\u7334\u54e5\u5c45\u7136\u6ca1\u7231\u8fc7\u6211\u3002"},{keys:"\u7ea2\u5b69\u513f",loving_words:"\u7334\u54e5\uff1a\u7231\u8fc7\uff0c1\u5929\uff0c\u521d\u89c1\u65f6\u8fd8\u4ee5\u4e3a\u8fd9\u5c0f\u5c41\u5b69\u4f1a\u6210\u4e3a\u4ffa\u8001\u5b59\u7684\u597d\u4f84\u513f\u3002",title:"\u539f\u6765\u6211\u662f\u7ea2\u5b69\u513f\uff0c\u88ab\u7334\u54e5\u7231\u8fc71\u5929\u3002"},{keys:"\u94f6\u89d2\u5927\u738b",loving_words:"\u7334\u54e5\uff1a\u7231\u8fc7\uff0c1\u79d2\uff0c\u7b54\u5e94\u4f60\u7684\u90a31\u79d2\u3002",title:"\u539f\u6765\u6211\u662f\u94f6\u89d2\u5927\u738b\uff0c\u88ab\u7334\u54e5\u7231\u8fc71\u79d2\u3002"},{keys:"\u4e8c\u90ce\u795e",loving_words:"\u7334\u54e5\uff1a\u7231\u8fc7\uff0c\u4e00\u8d77\u62dc\u5e74\u7684\u90a31\u4e2a\u5c0f\u65f6\uff0c\u563f\u563f\u563f\u3002",title:"\u539f\u6765\u6211\u662f\u4e8c\u90ce\u795e\uff0c\u88ab\u7334\u54e5\u7231\u8fc71\u4e2a\u5c0f\u65f6\u3002"},{keys:"\u5973\u513f\u56fd\u56fd\u738b",loving_words:"\u7334\u54e5\uff1a\u4e0d\u6562\u7231\uff0c\u8fd9\u53ea\u662f\u5e08\u5085\u7684\u2026\u2026",title:"\u539f\u6765\u6211\u662f\u5973\u513f\u56fd\u56fd\u738b\uff0c\u7334\u54e5\u5c45\u7136\u6ca1\u7231\u8fc7\u6211\u3002"},{keys:"\u516d\u8033\u7315\u7334",loving_words:"\u7334\u54e5\uff1a\u7231\u8fc7\uff0c3\u5929\uff0c\u4f60\u6211\u5927\u6218\u7684\u90a33\u59293\u591c\uff0c\u6211\u4e5f\u66fe\u4ee5\u4e3a\u4f60\u5c31\u662f\u6211\u3002",title:"\u539f\u6765\u6211\u662f\u516d\u8033\u7315\u7334\uff0c\u88ab\u7334\u54e5\u7231\u8fc73\u5929\u3002"},{keys:"\u54ee\u5929\u72ac",loving_words:"\u7334\u54e5\uff1a\u7231\u8fc7\uff0c2\u79d2\uff0c\u8bf4\u597d\u4e00\u8d77\u5355\u8eab\u72d7\uff0c\u8f6c\u8eab\u4f60\u5374\u62b1\u5973\u53cb\u3002",title:"\u539f\u6765\u6211\u662f\u54ee\u5929\u72ac\uff0c\u88ab\u7334\u54e5\u7231\u8fc72\u79d2\u3002"},{keys:"\u767d\u9aa8\u7cbe",loving_words:"\u7334\u54e5\uff1a\u7231\u8fc7\uff0c\u4e00\u4e07\u5e74\uff0c\u5982\u679c\u975e\u8981\u7ed9\u7231\u4e00\u4e2a\u671f\u9650\u3002\uff08\u554a\uff0c\u597d\u50cf\u5bf9\u7d2b\u971e\u4e5f\u8fd9\u4e48\u8bf4\u8fc7...\uff09",title:"\u539f\u6765\u6211\u662f\u767d\u9aa8\u7cbe\uff0c\u88ab\u7334\u54e5\u7231\u8fc7\u4e00\u4e07\u5e74\u3002"},{keys:"\u767d\u9f99\u9a6c",loving_words:"\u7334\u54e5\uff1a\u7231\u8fc7\uff0c20\u5e74\uff0c\u4f60\u8fd8\u662f\u9f99\u738b\u4e09\u592a\u5b50\u7684\u65f6\u5019\u54e5\u5c31\u503e\u5fc3\u4e8e\u4f60\u5566\u3002",title:"\u539f\u6765\u6211\u662f\u767d\u9f99\u9a6c\uff0c\u88ab\u7334\u54e5\u7231\u8fc720\u5e74\u3002"},{keys:"\u5c0f\u94bb\u98ce",loving_words:"\u7334\u54e5\uff1a\u7231\u8fc7\uff0c3\u5206\u949f\uff0c\u54e5\u5c31\u559c\u6b22\u4e0d\u7c98\u4eba\u7684\u5c0f\u5996\u7cbe\u3002",title:"\u539f\u6765\u6211\u662f\u5c0f\u94bb\u98ce\uff0c\u88ab\u7334\u54e5\u7231\u8fc73\u5206\u949f\u3002"},{keys:"\u9ec4\u888d\u602a",loving_words:"\u7334\u54e5\uff1a\u7231\u8fc7\uff0c1\u79d2\uff0c\u6211\u7231\u7740\u4ed6\uff0c\u4f46\u4ed6\u7231\u7740\u5979\u3002",title:"\u539f\u6765\u6211\u662f\u9ec4\u888d\u602a\uff0c\u88ab\u7334\u54e5\u7231\u8fc71\u79d2\u3002"},{keys:"\u54ea\u5412",loving_words:"\u7334\u54e5\uff1a\u7231\u8fc7\uff0c5\u5206\u949f\uff0c\u6469\u64e6\u6469\u64e6\u7684\u90a35\u5206\u949f\u3002",title:"\u539f\u6765\u6211\u662f\u54ea\u5412\uff0c\u88ab\u7334\u54e5\u7231\u8fc75\u5206\u949f\u3002"},{keys:"\u7389\u5154\u7cbe",loving_words:"\u7334\u54e5\uff1a\u7231\u8fc7\uff0c2\u5c0f\u65f6\uff0c\u6bd5\u7adf\u989c\u9ad8\u80a4\u767d\u80f8\u7fd8\u3002",title:"\u539f\u6765\u6211\u662f\u7389\u5154\u7cbe\uff0c\u88ab\u7334\u54e5\u7231\u8fc72\u5c0f\u65f6\u3002"}],forbiddenData={Q1:{"\u5510\u50e7\u8089":["\u4e8c\u5e08\u5144","\u6c99\u50e7"]},Q3:{"\u597d\u8272\u61d2\u505a\u7684\u516b\u6212":["\u4e8c\u5e08\u5144"],"\u6ca1\u6709\u4e3b\u89c1\u7684\u6c99\u50e7":["\u6c99\u50e7"]}},randomQuestionData,questionNum=6,userAnswers={},currentQuestionIndex=0;window.addEventListener("load",function(){init()},!1);var changeViews={indexPageHeight:function(){var e=window.innerWidth||document.body.clientWidth,t=50,n=.7*e*(145/308),o=.9*e*(210/418)+25+10,i=.5*e*(97/222);return t+n+o+i+20}(),resultPageHeight:function(){var e=window.innerWidth||document.body.clientWidth,t=50,n=.5*e*(376/310),o=.7*e*.375,i=40,s=.5*e*.575+20,a=.35*e*(52/154)+10;return t+n+o+i+s+a}(),setBgImg:function(e){document.body.style.backgroundImage="url('"+e+"')"},showSection:function(e){for(var t=["index_container","question_container","result_container"],n=0;n<t.length;n++)t[n]===e?document.getElementsByClassName(e)[0].style.display="block":document.getElementsByClassName(t[n])[0].style.display="none"},getResult:function(){var e,t,n={},o=[];for(var i in forbiddenData)if(forbiddenData.hasOwnProperty(i)&&(e=forbiddenData[i][userAnswers[i]],e&&e.length>0))for(t=0;t<e.length;t++)n[e[t]]=!0;for(t=0;t<keysData.length;t++)n[keysData[t].keys]!==!0&&o.push(t);return o[Math.floor(Math.random()*o.length)]},showIndex:function(){var e=document.getElementById("result_img");e.src="",e.alt="";var t=this.indexPageHeight;t<document.body.clientHeight?t="100%":t+="px",document.body.style.height=t,document.body.style.backgroundSize="100% "+t,userAnswers={},randomQuestionData=randomArray(questionData,questionNum),this.setBgImg("img/index/background.png"),this.showSection("index_container");var n=document.getElementsByClassName("index_title")[0],o=document.getElementsByClassName("index_monkey")[0],i=document.getElementById("start");n.className="index_title title_init",o.className="index_monkey monkey_init",i.className="index_start start_init",setTimeout(function(){n.className="index_title title_normal",o.className="index_monkey monkey_normal",i.className="index_start start_normal"},100),quitQuestionAnimation(),document.getElementsByTagName("head")[0].getElementsByTagName("title")[0].textContent="\u6d4b\u6d4b\u4f60\u662f\u7f8e\u7334\u738b\u7231\u8fc7\u7684\u54ea\u53ea\u5996\u5b7d"},showQuestion:function(){this.setBgImg("img/question/background.png"),this.showSection("question_container"),document.body.style.height="100%",document.body.style.backgroundSize="100% 100%",currentQuestionIndex=0,setQuestion(currentQuestionIndex),enterQuestionAnimation()},showResult:function(){var e=this.resultPageHeight;e<document.body.clientHeight?e="100%":e+="px",document.body.style.height=e,document.body.style.backgroundSize="100% "+e,this.setBgImg("img/result/background.png"),this.showSection("result_container");var t=document.getElementById("result_img"),n=document.getElementById("result_words_img"),o=this.getResult();t.src="img/result/"+keysData[o].keys+".png",t.alt=keysData[o].keys,n.src="img/result/"+keysData[o].keys+"\u6587\u5b57.png",t.addEventListener("load",function(){document.getElementById("loving_words").textContent=keysData[o].loving_words,document.getElementsByTagName("head")[0].getElementsByTagName("title")[0].textContent=keysData[o].title},!1);for(var i=document.getElementById("options").getElementsByTagName("img"),s=0;s<i.length;s++)i[s].src="",i[s].alt="";post("/corp/app/getMonkeyCounter","",function(e){document.getElementById("user_counter").innerHTML=e.response.counter})}};