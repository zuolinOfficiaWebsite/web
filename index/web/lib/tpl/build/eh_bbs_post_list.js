/*TMODJS:{"version":111,"md5":"63c98bae64baf039e39008c90c3f9285"}*/
define(function(require){return require("./template")("eh_bbs_post_list",function(a){"use strict";var b=this,c=(b.$helpers,a.data),d=b.$each,e=(a.$value,a.$index,b.$escape),f=a.EHB,g=a.labels,h=a.EH,i=b.$string,j=a.userId,k=a.hasForumAdmin,l=a.communityId,m=a.options,n="";return n+='<div class="eh_bbs_post eh_bbs_post_list"> ',0==c.length?n+=' <div class="eh_bbs_post_tips"> <span>\u6ca1\u6709\u6570\u636e\uff01</span> </div> ':(n+=" <ul> ",d(c,function(a,b){n+=' <li data-forumid="',n+=e(a.forumId),n+='" data-topicid="',n+=e(a.id),n+='" data-index="',n+=e(b),n+='" data-senderid="',n+=e(a.senderId),n+='"> <div class="eh_bbs_post_head clearfix"> ',(1004===a.contentCategory||1005===a.contentCategory||1006===a.contentCategory)&&(n+=' <input type="checkbox" name="eh-switch-size" class="eh_switch_size" data-size="mini" data-on-text="\u516c\u5f00" data-off-text="\u4e0d\u516c\u5f00" ',0==a.privateFlag&&(n+="checked"),n+="> "),n+=' <img src="',n+=e(a.senderAvatar||f.defaultFace),n+='"> <span class="eh_bbs_post_head_title eh_overflow">',n+=e(a.subject),27==a.embeddedAppId&&(n+='(<span style="color: red">',n+=0==a.assignStatus&&1==a.taskStatus?"\u672a\u5206\u914d":e(g["label_"+a.taskStatus]),n+="</span>)"),n+='</span> <span class="eh_bbs_post_head_other"> <span class="eh_bbs_post_head_name">',n+=e(a.creatorNickName),n+='</span> <span class="eh_bbs_post_head_time">',n+=e(h.Time.getTimeStr(a.createTime)),n+='</span> </span> </div> <div class="eh_bbs_post_content clearfix"> ',null!=a.attachments&&a.attachments.length>0&&(n+=" ",d(a.attachments,function(a){n+=" ",("IMAGE"==a.contentType||"image"==a.contentType)&&(n+=' <div class="eh_bbs_post_content_img"> <img src="',n+=e(a.contentUrl),n+='"> </div> '),n+=" "}),n+=" "),n+=' <div class="eh_bbs_post_content_txt"> ',a.content&&(n+=" ",n+=i(h.RichText.str2HTML(a.content.slice(0,180))),n+=" ",a.content.length>180&&(n+="<br>..."),n+=" "),n+=" </div> ",null!=a.attachments&&a.attachments.length>0&&(n+=" ",d(a.attachments,function(a){n+=" ",2==a.contentType?(n+=' <div class="eh_bbs_post_content_sound"> <a href="javascript:void(0);" class="eh_media_sound" data-url="',n+=e(a.p_resPath),n+='"> \u8bed\u97f3 <i class="glyphicon glyphicon-play"></i> </a> </div> '):5==a.contentType&&(n+=" ",a.resPath&&(n+=' <div class="eh_bbs_post_content_download"> <a href="',n+=e(a.resPath),n+='" target="_blank" class="btn btn-default eh_w200 eh_overflow">\u4e0b\u8f7d ',n+=e(a.resPath),n+="</a> </div> "),n+=" "),n+=" "}),n+=" "),n+=" ","21"==a.embeddedAppId&&(n+=" ",a.embeddedJson&&(n+=' <div class="eh_bbs_post_content_richText"> <div class="row"> <div class="col-md-4" data-link="',n+=e(a.embeddedJson.content),n+='"> <div class="panel panel-default service_account_pt"> <div class="panel-body"> <div class="media"> ',a.embeddedJson.coverUri&&(n+=' <a href="javascript:void(0);" class="media-left"> <img src="',n+=e(a.embeddedJson.coverUri),n+='"> </a> '),n+=' <div class="media-body"> <div> ',a.embeddedJson.title&&(n+=" <b>",n+=e(a.embeddedJson.title.slice(0,8)),a.embeddedJson.title.length>8&&(n+="..."),n+="</b> "),n+=" </div> ",a.embeddedJson.contentAbstract&&(n+=" ",n+=e(a.embeddedJson.contentAbstract.slice(0,30)),a.embeddedJson.contentAbstract.length>30&&(n+="..."),n+=" "),n+=" </div> </div> </div> </div> </div> </div> </div> "),n+=" "),n+=" ","14"==a.embeddedAppId&&(n+=" ",a.embeddedJson&&(n+=' <div class="eh_bbs_post_content_vote"> <div class="row"> <div class="col-md-5"> <div class="eh_bbs_post_content_vote_inner"> ',3==a.embeddedJson.poll.processStatus?n+=' <p class="eh_bbs_post_content_vote_desc">\u6295\u7968\u5df2\u7ecf\u7ed3\u675f</p> ':(n+=" ",n+=a.creatorUid!=j&&"1"==a.embeddedJson.poll.pollVoterStatus?' <button type="button" class="eh_bbs_post_content_vote_detail btn btn-default"> <span class="glyphicon glyphicon-stats"></span> \u6211\u8981\u6295\u7968 </button> ':' <button type="button" class="eh_bbs_post_content_vote_detail btn btn-default"> <span class="glyphicon glyphicon-stats"></span> \u67e5\u770b\u6295\u7968\u8be6\u60c5 </button> ',n+=" "),n+=" <span>\u53c2\u52a0\u603b\u4eba\u6570(",n+=e(a.embeddedJson.poll.pollCount),n+=")</span> </div> </div> </div> </div> "),n+=" "),n+=" ","3"==a.embeddedAppId&&(n+=" ",a.embeddedJson&&(n+=' <div class="eh_bbs_post_content_activity"> <div class="row"> <div class="col-md-5"> <div class="eh_bbs_post_content_activity_inner"> ',n+=a.creatorUid!=j&&"1"==a.embeddedJson.userActivityStatus?' <button type="button" class="eh_bbs_post_content_activity_detail btn btn-default">\u6211\u8981\u62a5\u540d </button> ':' <button type="button" class="eh_bbs_post_content_activity_detail btn btn-default">\u67e5\u770b\u62a5\u540d\u8be6\u60c5 </button> ',n+=" <span>\u62a5\u540d\u603b\u4eba\u6570(",n+=e(a.embeddedJson.enrollUserCount),n+=")</span> </div> </div> </div> </div> "),n+=" "),n+=' </div> <div class="eh_bbs_post_tool"> <a href="javascript:void(0);" class="eh_bbs_post_tool_delete ',j==a.senderId||k&&l==a.forumId||(n+="none"),n+='"><i></i>\u5220\u9664</a> <a href="javascript:void(0);" class="eh_bbs_post_tool_like">\u8d5e(0)</a> <a href="javascript:void(0);" class="eh_bbs_post_tool_comment"><i></i>\u8bc4\u8bba(',n+=e(a.childCount),n+=')</a> <a href="javascript:void(0);" class="eh_bbs_post_tool_detail"><i></i>\u8be6\u60c5</a> </div> ',m.otherActions&&(n+=' <div class="eh_bbs_post_other_action text-center"> ',d(m.otherActions,function(a){n+=' <button class="btn btn-default" type="button" data-action="',n+=e(a.action),n+='">',n+=e(a.name),n+=" </button> "}),n+=" </div> "),n+="  </li> "}),n+=" </ul> "),n+=" </div>",new String(n)})});