/*TMODJS:{"version":22,"md5":"2ddbb7fbc27d64fe0494d484eb468532"}*/
define(function(require){return require("./template")("eh_bbs_post_detail",function(a){"use strict";var b=this,c=(b.$helpers,a.tpl),d=a.data,e=b.$escape,f=a.defaultAvatar,g=a.EH,h=b.$string,i=b.$each,j=(a.$value,a.$index,a.isOwner),k=a.detailData,l="";return"main"==c?(l+=' <div class="eh_bbs_post eh_bbs_post_detail"> <div class="eh_bbs_post_head clearfix"> ',d.senderAvatar?(l+=' <img src="',l+=e(d.senderAvatar),l+='"> '):(l+=' <img src="',l+=e(f),l+='"> '),l+=' <span class="eh_bbs_post_head_title eh_overflow" title="',l+=e(d.subject),l+='">',l+=e(d.subject),l+='</span> <span class="eh_bbs_post_head_other"> <span class="eh_bbs_post_head_name">',l+=e(d.creatorNickName),l+='</span> <span class="eh_bbs_post_head_time">',l+=e(g.Time.getTimeStr(d.createTime)),l+='</span> </span> </div> <div class="eh_bbs_post_content clearfix"> <div class="eh_bbs_post_content_txt">',l+=h(g.RichText.str2HTML(d.content)),l+='</div> <div class="eh_bbs_post_content_img"> ',i(d.p_images,function(a){l+=' <img src="',l+=e(a),l+='"> '}),l+=" </div> ",d.p_richText&&(l+=" ",i(d.p_richText,function(a){l+=' <div class="eh_bbs_post_content_richText"> <div class="row"> <div class="col-md-4" data-link="',l+=e(a.link),l+='"> <div class="panel panel-default service_account_pt"> <div class="panel-body"> <div class="media"> ',a.resPath&&(l+=' <a href="javascript:void(0);" class="media-left"> <img src="',l+=e(a.resPath),l+='"> </a> '),l+=' <div class="media-body"> <div> ',a.title&&(l+=" <b>",l+=e(a.title.slice(0,8)),a.title.length>8&&(l+="..."),l+="</b> "),l+=" </div> ",a.description&&(l+=" ",l+=e(a.description.slice(0,30)),a.description.length>30&&(l+="..."),l+=" "),l+=" </div> </div> </div> </div> </div> </div> </div> "}),l+=" "),l+=' <div class="eh_bbs_post_content_vote_container"> </div> <div class="eh_bbs_post_content_activity_container"> </div> </div> <div class="eh_bbs_post_tool"> <a href="javascript:void(0);" class="eh_bbs_post_tool_like"><i></i>\u8d5e(0)</a> <a href="javascript:void(0);" class="eh_bbs_post_tool_comment"><i></i>\u8bc4\u8bba(',l+=e(d.childCount),l+=')</a> </div> <div class="eh_bbs_post_comment_editor_container" id="id_eh_bbs_post_comment_editor_container"> </div> <div class="eh_bbs_post_comment_container"> <div class="eh_bbs_post_tips"> <span>\u6b63\u5728\u52a0\u8f7d\u8bc4\u8bba...</span> </div> </div> </div> '):"vote"==c?(l+=' <div class="eh_bbs_post_content_vote"> <div class="row"> <div class="col-md-7"> <div class="eh_bbs_post_content_vote_inner"> ',j||"2"==d.poll.pollVoterStatus?(l+=' <p class="eh_bbs_post_content_vote_desc">\u5171\u6709 ',l+=e(d.poll.pollCount),l+=" \u4eba\u53c2\u4e0e\u6295\u7968",3==d.poll.processStatus&&(l+=" (\u5df2\u7ed3\u675f)"),l+="</p> "):(l+=' <p class="eh_bbs_post_content_vote_desc">',l+="1"==d.poll.multiChoiceFlag?"\u591a\u9009":"\u5355\u9009",l+="\u9009\u62e9","1"==d.poll.anonymousFlag&&(l+="(\u533f\u540d\u6295\u7968)"),l+="</p> "),l+=" <ul> ",i(d.items,function(a,b){l+=' <li class="clearfix" data-id="',l+=e(a.itemId),l+='"> ',j||"2"==d.poll.pollVoterStatus||(l+=" ",l+="1"==d.poll.multiChoiceFlag?' <input type="checkbox" name="eh_bbs_post_content_vote_checkbox" class="eh_bbs_post_content_vote_select"> ':' <input type="radio" name="eh_bbs_post_content_vote_radio" class="eh_bbs_post_content_vote_select"> ',l+=" "),l+=' <span class="eh_bbs_post_content_vote_title">',l+=e(b+1),l+="\u3001",l+=e(a.subject),l+='</span> <div class="row"> <div class="col-md-6"> ',a.coverUrl&&(l+=' <img src="',l+=e(a.coverUrl),l+='" class="eh_bbs_post_content_vote_img" style="width: 50px; height: auto;"> '),l+=' </div> <div class="col-md-5 pull-right"> <div class="progress"> <div class="progress-bar progress-bar-success" role="progressbar" style="width:',l+=e(a.p_progress),l+='%;color:black">',l+=e(a.p_progress),l+="%</div> </div> </div> </div> </li> "}),l+=" </ul> ",j||"2"==d.poll.pollVoterStatus||(l+=' <button type="button" class="btn btn-default eh_bbs_post_content_vote_submit">\u63d0\u4ea4\u6295\u7968</button> '),l+=' </div> <div class="eh_bbs_post_content_vote_detail_button"> </div> </div> </div> </div> '):"vote_detail"==c?(l+=' <a href="',l+=e(d),l+='" target="_blank" class="btn btn-default">\u6295\u7968\u8be6\u60c5(\u53ea\u7269\u4e1a\u4eba\u5458\u67e5\u770b)</a> '):"activity"==c?(l+=' <div class="eh_bbs_post_content_activity"> <div class="row"> <div class="col-md-5"> <div class="eh_bbs_post_content_activity_inner" data-id="',l+=e(k.embeddedJson.activity.activityId),l+='"> ',3==k.embeddedJson.activity.processStatus?l+=' <p class="eh_bbs_post_content_activity_desc">\u6d3b\u52a8\u5df2\u7ecf\u7ed3\u675f</p> ':(l+=" ",j||(l+=" ",k.embeddedJson.activity.userActivityStatus<2?l+=' <button type="button" class="btn btn-default eh_bbs_post_content_activity_submit">\u62a5\u540d</button> ':(l+=" ",l+=1==k.embeddedJson.activity.confirmFlag&&2==k.embeddedJson.activity.userActivityStatus?' <button type="button" class="btn btn-default eh_bbs_post_content_activity_cancel_submit">\u53d6\u6d88\u62a5\u540d(\u5f85\u786e\u8ba4)</button> ':' <button type="button" class="btn btn-default eh_bbs_post_content_activity_cancel_submit">\u53d6\u6d88\u62a5\u540d</button> ',l+=' <span class="">\u8bf7\u7528\u624b\u673a\u7b7e\u5230</span> '),l+=" "),l+=" "),l+=' <span class="eh_bbs_post_content_activity_desc">\u62a5\u540d\u603b\u4eba\u6570(',l+=e(k.embeddedJson.activity.enrollUserCount),l+=")</span> ",j&&(l+=' <div> <button type="button" class="btn btn-default eh_bbs_post_content_activity_detail">\u62a5\u540d/\u7b7e\u5230\u8be6\u60c5</button> </div> '),l+=" </div> </div> </div> </div> "):"activity_signup"==c&&(l+=' <div class="eh_bbs_post_content_activity_signup"> <div class="row"> <div class="col-md-6"> <span class="eh_bbs_post_content_activity_signup_title">\u6210\u5e74\u4eba</span> </div> <div class="col-md-6"> <div class="input-group"> <span class="input-group-btn"> <button class="btn btn-default eh_bbs_post_content_activity_signup_dec" type="button"><span class="glyphicon glyphicon-minus"></span></button> </span> <input type="text" class="form-control eh_bbs_post_content_activity_signup_input" value="0"> <span class="input-group-btn"> <button class="btn btn-default eh_bbs_post_content_activity_signup_add" type="button"><span class="glyphicon glyphicon-plus"></span></button> </span> </div> </div> </div> <div class="eh_divider"></div> <div class="row"> <div class="col-md-6"> <span class="eh_bbs_post_content_activity_signup_title">\u513f\u7ae5</span> </div> <div class="col-md-6"> <div class="input-group"> <span class="input-group-btn"> <button class="btn btn-default eh_bbs_post_content_activity_signup_dec" type="button"><span class="glyphicon glyphicon-minus"></span></button> </span> <input type="text" class="form-control eh_bbs_post_content_activity_signup_input" value="0"> <span class="input-group-btn"> <button class="btn btn-default eh_bbs_post_content_activity_signup_add" type="button"><span class="glyphicon glyphicon-plus"></span></button> </span> </div> </div> </div> </div> '),new String(l)})});